<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0 user-scalable=0">
<link rel="stylesheet" type="text/css" href="./css/include.css" >
<link rel="stylesheet" type="text/css" href="./css/data.css" >
<title></title>
<script src="./js/base.js"></script>
<script src="./js/view.js"></script>
<script src="./js/jquery-3.3.1.min.js"></script>
<script src="./js/jquery-ui.min.js"></script>
<script src="./js/common.js"></script>

</head>

<body>
	<!-- Content -->
	<div id="wrap" class="type-data">
		<header class="header">
			<h1 class="title">
				<span>초등학교</span>
				<strong>과학 <em>4-1</em></strong>
			</h1>

			<div class="header-group">
				<div class="inp-round">
					<input type="text" placeholder="자료 검색">
					<button type="button" ><img src="./img/data/btn-search.png" alt="자료 출처"></button>
				</div>
				<a href="#"><img src="./img/data/btn-dataorigin.png" alt="자료 출처"></a>
				<a href="#"><img src="./img/data/btn-comdata.png" alt="공통 출처"></a>
			</div>
		</header>
		
		<div class="container">
			<div class="cont-head">
				<div id="chapterSelect" class="custom-select">
					<select>
						<option value="" selected>단원</option>
						<option value="">1. 물질의 성질</option>
						<option value="">2. 동물의 한살이</option>
						<option value="">3. 자석의 이용</option>
						<option value="">4. 지구의 모습</option>
					</select>
				</div>
			</div>

			<div class="tab-wrap">
				<div class="tab-head">
					<div class="group">
						<button type="button">
							<img src="./img/data/btn-allget.png" alt="단원 자료 전체 받기">
						</button>
						<button type="button">
							<img src="./img/data/btn-get.png" alt="선택 자료 받기">
						</button>

					</div>
					<div class="tab-btn-wrap">
						<button type="button" class="tab-btn selected" tabname="tab1" idx="1">
							<span>차시별 자료</span>
						</button>
						<button type="button" class="tab-btn" tabname="tab1" idx="2">
							<span>단원별 자료</span>
						</button>
					</div>
				</div>
				<div class="tab-body scrollStyle">
					<div class="tab-pnl" tabname="tab1" idx="1">
						<div class="tbl-data">
							<table>
								<caption>단원구성, 수업ppt, 활동지, 차시별형성평가, 탐구영상, 수업도움영상 정보입니다. </caption>
								<colgroup>
								<col style="width:auto">
								<col style="width:220px">
								<col style="width:190px">
								<col style="width:280px">
								<col style="width:280px">
								<col style="width:280px">
								</colgroup>
								<thead>
									<tr>
										<th scope="col">단원 구성</th>
										<th scope="col">
											<input type="checkbox" id="ck1">
											<label for="ck1">수업 PPT</label>
										</th>
										<th scope="col">
											<input type="checkbox" id="ck2">
											<label for="ck2">활동지</label>
										</th>
										<th scope="col">
											<input type="checkbox" id="ck3">
											<label for="ck3">차시별 형성 평가</label>
										</th>
										<th scope="col">
											<input type="checkbox" id="ck4">
											<label for="ck4">탐구 영상</label>
										</th>
										<th scope="col">
											<input type="checkbox" id="ck5">
											<label for="ck5">수업 도움 영상</label>
										</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<th scope="row">
											<input type="checkbox" id="class_c1">
											<label for="class_c1">[1 차시] 물질의 성질</label>
										</th>
										<td>
											<button type="button" class="ico-ppt" aria-label="ppt"></button>
										</td>
										<td>
											<button type="button" class="ico-hwp" aria-label="hwp"></button>
										</td>
										<td>
											<button type="button" class="ico-hwp-1" aria-label="hwp 도입 활동지"></button>
											<button type="button" class="ico-hwp-1" aria-label="hwp 보충 활동지"></button>
											<button type="button" class="ico-hwp-1" aria-label="hwp 단원 마무리 활동지"></button>
										</td>
										<td>
											<button type="button" class="ico-mp4-1" aria-label="mp4 교과 개념 영상"></button>
											<button type="button" class="ico-mp4-2" aria-label="mp4 도입 이야기 영상"></button>
											<button type="button" class="ico-mp4-3" aria-label="mp4 활동 안내 영상"></button>
											<button type="button" class="ico-mp4-4" aria-label="mp4 창의 융합영상"></button>
										</td>
										<td>
											<button type="button" class="ico-mp4" aria-label="mp4"></button>
										</td>
									</tr>
									<tr>
										<th scope="row">
											<input type="checkbox" id="class_c2">
											<label for="class_c2">[2 차시] 물질의 성질</label>
										</th>
										<td>
											<button type="button" class="ico-ppt" aria-label="ppt" disabled></button>
										</td>
										<td>
											<button type="button" class="ico-hwp" aria-label="hwp" disabled></button>
										</td>
										<td>
											<button type="button" class="ico-hwp-1" aria-label="hwp 도입 활동지" disabled></button>
											<button type="button" class="ico-hwp-1" aria-label="hwp 보충 활동지" disabled></button>
											<button type="button" class="ico-hwp-1" aria-label="hwp 단원 마무리 활동지" disabled></button>
										</td>
										<td>
											<button type="button" class="ico-mp4-1" aria-label="mp4 교과 개념 영상" disabled></button>
											<button type="button" class="ico-mp4-2" aria-label="mp4 도입 이야기 영상" disabled></button>
											<button type="button" class="ico-mp4-3" aria-label="mp4 활동 안내 영상" disabled></button>
											<button type="button" class="ico-mp4-4" aria-label="mp4 창의 융합영상" disabled></button>
										</td>
										<td>
											<button type="button" class="ico-mp4" aria-label="mp4" disabled></button>
										</td>
									</tr>
									<tr>
										<th scope="row">
											<input type="checkbox" id="class_c2">
											<label for="class_c2">[2 차시] 물질의 성질</label>
										</th>
										<td>
											<button type="button" class="ico-ppt" aria-label="ppt" ></button>
										</td>
										<td>
											<button type="button" class="ico-hwp" aria-label="hwp" ></button>
										</td>
										<td>
											<button type="button" class="ico-hwp-1" aria-label="hwp 도입 활동지" ></button>
										</td>
										<td>
											<button type="button" class="ico-mp4-1" aria-label="mp4 교과 개념 영상" ></button>
										</td>
										<td>
											<button type="button" class="ico-mp4" aria-label="mp4" ></button>
										</td>
									</tr>
									<tr>
										<td>
											<input type="checkbox" id="class_c2">
											<label for="class_c2">[2 차시] 물질의 성질</label>
										</td>
										<td>
											<button type="button" class="ico-ppt" aria-label="ppt" ></button>
										</td>
										<td>
											<button type="button" class="ico-hwp" aria-label="hwp" ></button>
										</td>
										<td>
											<button type="button" class="ico-hwp-1" aria-label="hwp 도입 활동지" ></button>
										</td>
										<td>
											<button type="button" class="ico-mp4-1" aria-label="mp4 교과 개념 영상" ></button>
										</td>
										<td>
											<button type="button" class="ico-mp4" aria-label="mp4" ></button>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
					<div class="tab-pnl" tabname="tab1" idx="2">
						<div class="tbl-data type-2">
							<table>
								<caption>단원구성, 수업ppt, 활동지, 차시별형성평가, 탐구영상, 수업도움영상 정보입니다. </caption>
								<colgroup>
								<col style="width:590px">
								<col style="width:auto">
								<col style="width:590px">
								</colgroup>
								<thead>
									<tr>
										<th scope="col">
											<input type="checkbox" id="ck1-b">
											<label for="ck1-b">수업 자료</label>
										</th>
										<th scope="col">
											<input type="checkbox" id="ck2-b">
											<label for="ck2-b">평가 자료</label>
										</th>
										<th scope="col">
											<input type="checkbox" id="ck3-b">
											<label for="ck3-b">이미지 자료</label>
										</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td>
											<input type="checkbox" id="list-a001">
											<label for="list-a001">
												<span class="ico-zip"></span>교과서
											</label>
										</td>
										<td>
											<input type="checkbox" id="list-b001">
											<label for="list-b001">
												<span class="ico-hwp"></span>교과서
											</label>
										</td>
										<td>
											<input type="checkbox" id="list-c002">
											<label for="list-c002">
												<span class="ico-zip"></span>교과서
											</label>
										</td>
										
									</tr>
									<tr>
										<td>
											<input type="checkbox" id="list-a002">
											<label for="list-a002">
												<span class="ico-zip"></span>교과서
											</label>
										</td>
										<td>
											<input type="checkbox" id="list-b002">
											<label for="list-b002">
												<span class="ico-hwp"></span>교과서
											</label>
										</td>
										<td>
											<input type="checkbox" id="list-c003">
											<label for="list-c003">
												<span class="ico-zip"></span>교과서
											</label>
										</td>
										
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
			

		</div>
		

		<!-- 팝업 -->
		<div id="popFullDim"></div>
		<div id="popFull">
			<div class="inner commondata shadow">
				<div class="top">
					<span class="tit">자료실 검색</span>
					<button class="btnPopClose">팝업닫기</button>
				</div>

				<div class="pop-cont-wrap">
					<div class="tab-wrap">
						<div class="tab-head">
							<div class="tab-tit">
								<h2>검색결과</h2>
								<span>총 <b>00</b>건</span>
							</div>
							<div class="group">
								<button type="button">
									<img src="./img/data/btn-allget.png" alt="단원 자료 전체 받기">
								</button>
								<button type="button">
									<img src="./img/data/btn-get.png" alt="선택 자료 받기">
								</button>
								<div class="inp-round">
									<input type="text" placeholder="자료 검색">
									<button type="button" ><img src="./img/data/btn-search.png" alt="자료 출처"></button>
								</div>
							</div>
						</div>
						<div class="table">
					<div class="tableHead">
						<div style="width:60px" ></div>
						<div style="width:185px">자료 구분</div>
						<div style="width:185px">자료 유형</div>
						<div style="width:220px">단원</div>
						<div style="width:470px">차시</div>
						<div style="width:450px" >파일명</div>
						<div style="width:160px">자료형식</div>
					</div>

					<div class="box scrollStyle">
						<table class="" style="table-layout: fixed;">
							<colgroup>
								<col style="width:54px" />
								<col style="width:191px" />
								<col style="width:185px" />
								<col style="width:220px" />
								<col style="width:470px" />
								<col style="width:auto" />
								<col style="width:160px" />
							</colgroup>

							<tbody>
								<tr>
									<th class="txt-c">
										<input type="checkbox" id="chkList-01" name="chkList" class="inputChk">
										<label for="chkList-01">
											<span class="blind">선택</span>
										</label>
									</th>
									<td class="txt-c">차시별 자료</td>
									<td class="txt-c">수업PPT</td>
									<td>2. 지층과 화석.</td>

									<td class="viewTooltip2" title="[2차시] 여러 가지 모양의 지층을 관찰해 볼까요?">[2차시] 여러 가지 모양의 지층을 관찰해 볼까요?</td>

									<td>초등_과학_4-1_2차시_수업 PPT.pptx</td>
									<td class="txt-c">
										<button class="ico-ppt" aria-label="PPT"></button>
									</td>
								</tr>
								<tr>
									<th class="txt-c">
										<input type="checkbox" id="chkList-02" name="chkList" class="inputChk">
										<label for="chkList-02">
											<span class="blind">선택</span>
										</label>
									</th>
									<td class="txt-c">차시별 자료</td>
									<td class="txt-c">수업PPT</td>
									<td>2. 지층과 화석.</td>

									<td class="viewTooltip2" title="[2차시] 여러 가지 모양의 지층을 관찰해 볼까요?">[2차시] 여러 가지 모양의 지층을 관찰해 볼까요?</td>

									<td>초등_과학_4-1_2차시_수업 PPT.pptx</td>
									<td class="txt-c">
										<button class="ico-ppt" aria-label="PPT"></button>
									</td>
								</tr>
								<tr>
									<th class="txt-c">
										<input type="checkbox" id="chkList-03" name="chkList" class="inputChk">
										<label for="chkList-03">
											<span class="blind">선택</span>
										</label>
									</th>
									<td class="txt-c">차시별 자료</td>
									<td class="txt-c">수업PPT</td>
									<td>2. 지층과 화석.</td>

									<td class="viewTooltip2" title="[2차시] 여러 가지 모양의 지층을 관찰해 볼까요?">[2차시] 여러 가지 모양의 지층을 관찰해 볼까요?</td>

									<td>초등_과학_4-1_2차시_수업 PPT.pptx</td>
									<td class="txt-c">
										<button class="ico-ppt" aria-label="PPT"></button>
									</td>
								</tr>
								
							</tbody>
						</table>
					</div>

					<div class="list-foot">
						<div class="chkAll">
							<input type="checkbox" id="chkList-All" name="chkList">
							<label for="chkList-All">전체 선택</label>
						</div>
					</div>
				</div>
					</div>
				</div>

			</div>
		</div>
	</div>


	<script>
	var x, i, j, l, ll, selElmnt, a, b, c;
	/*look for any elements with the class "custom-select":*/
	x = document.getElementsByClassName("custom-select");
	l = x.length;
	for (i = 0; i < l; i++) {
		selElmnt = x[i].getElementsByTagName("select")[0];
		ll = selElmnt.length;
		/*for each element, create a new DIV that will act as the selected item:*/
		a = document.createElement("DIV");
		a.setAttribute("class", "select-selected");
		a.innerHTML = selElmnt.options[selElmnt.selectedIndex].innerHTML;
		x[i].appendChild(a);
		/*for each element, create a new DIV that will contain the option list:*/
		b = document.createElement("DIV");
		b.setAttribute("class", "select-items select-hide");
		for (j = 1; j < ll; j++) {
		/*for each option in the original select element,
		create a new DIV that will act as an option item:*/
		c = document.createElement("DIV");
		c.setAttribute("class", "viewTooltip2");
		c.setAttribute("title", selElmnt.options[j].innerHTML);
		c.innerHTML = selElmnt.options[j].innerHTML;
		c.addEventListener("click", function(e) {
			/*when an item is clicked, update the original select box,
			and the selected item:*/
			var y, i, k, s, h, sl, yl;
			s = this.parentNode.parentNode.getElementsByTagName("select")[0];
			sl = s.length;
			h = this.parentNode.previousSibling;
			for (i = 0; i < sl; i++) {
				if (s.options[i].innerHTML == this.innerHTML) {
				s.selectedIndex = i;
				h.innerHTML = this.innerHTML;
				y = this.parentNode.getElementsByClassName("same-as-selected");
				yl = y.length;
				for (k = 0; k < yl; k++) {
					y[k].removeAttribute("class");
				}
				this.setAttribute("class", "same-as-selected");
				break;
				}
			}
			h.click();
		});
		b.appendChild(c);
		}
		x[i].appendChild(b);
		a.addEventListener("click", function(e) {
			/*when the select box is clicked, close any other select boxes,
			and open/close the current select box:*/
			e.stopPropagation();
			closeAllSelect(this);
			this.nextSibling.classList.toggle("select-hide");
			this.classList.toggle("select-arrow-active");
		});
	}
	function closeAllSelect(elmnt) {
		/*a function that will close all select boxes in the document,
		except the current select box:*/
		var x, y, i, xl, yl, arrNo = [];
		x = document.getElementsByClassName("select-items");
		y = document.getElementsByClassName("select-selected");
		xl = x.length;
		yl = y.length;
		for (i = 0; i < yl; i++) {
		if (elmnt == y[i]) {
			arrNo.push(i)
		} else {
			y[i].classList.remove("select-arrow-active");
		}
		}
		for (i = 0; i < xl; i++) {
		if (arrNo.indexOf(i)) {
			x[i].classList.add("select-hide");
		}
		}
	}
	/*if the user clicks anywhere outside the select box,
	then close all select boxes:*/
	document.addEventListener("click", closeAllSelect);
	</script>
	<script>
		;(function($, win, doc, undefined) {
			$(doc).ready(function(){
				$('.list-img figure').on('click', listToggle);

				function listToggle(e) {
					!!$(this).hasClass('selected') ?
					$(this).removeClass('selected'):
					$(this).addClass('selected');
				}


				tabToggle(null, 'tab1', 1);
				tabToggle(null, 'tabimgview', 1);

				$('.tab-btn').on('click', tabToggle);

				function tabToggle(e, n, i) {
					var tname = !!n ? n : $(this).attr('tabname');
					var idx = !!i ? i : $(this).attr('idx');
					var $btn = $('.tab-btn[tabname="'+ tname +'"]');
					var $pnl = $('.tab-pnl[tabname="'+ tname +'"]');
					var $btnCurrent = $('.tab-btn[tabname="'+ tname +'"][idx="'+ idx +'"]');
					var $pnlCurrent = $('.tab-pnl[tabname="'+ tname +'"][idx="'+ idx +'"]');

					$btn.removeClass('selected');
					$btnCurrent.addClass('selected');
					$pnl.removeClass('selected');
					$pnlCurrent.addClass('selected');

				}

				$('.tbl-data th input').on('change', changeBg);
				$('.tbl-data td input').on('change', changeBg);
				function changeBg(e) {
					var $this = $(this);
					var checked = $this.prop('checked');
					var $tbl = $(this).closest('table');
					var isTd = !!$this.closest('td').length;
					var isCol = !!$this.closest('thead').length;
					var idx = null;

					if (isTd) {
						var $td = $this.closest('td');

						if (checked) {
							$td.addClass('on');
						} else {
							$td.removeClass('on');
						}
					} else {
						if (isCol) {
							idx = $this.closest('th').index();
							$tbl.find('tr').each(function(){
								if (checked) {
									$(this).find('> *:eq('+ idx +')').addClass('on').find('input').prop('checked', true);
								} else {
									$(this).find('> *:eq('+ idx +')').removeClass('on').find('input').prop('checked', false);
								}
								


							});
							
						} else {
							var $tr = $this.closest('tr');
							(checked) ?
							$tr.addClass('on'):
							$tr.removeClass('on');
						}
					}
					


					console.log(idx)
				}

			});
		})(jQuery, window, document);
	</script>
</body>
</html>